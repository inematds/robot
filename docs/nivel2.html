<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>N√≠vel 2 - Rob√¥s Aut√¥nomos | Rob√≥tica do Zero ao Expert</title>
    <meta name="description" content="Construa rob√¥s aut√¥nomos com WiFi, Bluetooth e controle inteligente usando ESP32">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/styles.css">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'fundamentos': '#10b981',
                        'autonomo': '#f59e0b',
                        'expert': '#ef4444',
                        'robo-primary': '#2196F3',
                        'robo-secondary': '#FF9800'
                    }
                }
            }
        }
    </script>
</head>
<body class="bg-gray-50 text-gray-900">

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-50">
        <nav class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <a href="index.html" class="flex items-center space-x-2">
                    <span class="text-3xl">ü§ñ</span>
                    <span class="text-xl font-bold text-robo-primary">Rob√≥tica do Zero ao Expert</span>
                </a>
                <div class="hidden md:flex space-x-6">
                    <a href="index.html" class="text-gray-700 hover:text-robo-primary transition-colors">Home</a>
                    <a href="index.html#niveis" class="text-robo-primary font-medium">N√≠veis</a>
                    <a href="materiais.html" class="text-gray-700 hover:text-robo-primary transition-colors">Materiais</a>
                    <a href="recursos.html" class="text-gray-700 hover:text-robo-primary transition-colors">Recursos</a>
                    <a href="instrutor.html" class="text-gray-700 hover:text-robo-primary transition-colors">Instrutor</a>
                    <a href="https://github.com/inematds/robot" target="_blank" class="text-gray-700 hover:text-robo-primary transition-colors">GitHub</a>
                </div>
            </div>
        </nav>
    </header>

    <!-- Hero -->
    <section class="bg-gradient-to-r from-autonomo to-orange-600 text-white py-16">
        <div class="container mx-auto px-6">
            <div class="max-w-4xl mx-auto">
                <div class="flex items-center mb-6">
                    <div class="text-6xl mr-4">üü†</div>
                    <div>
                        <h1 class="text-5xl font-bold mb-2">N√≠vel 2: Rob√¥s Aut√¥nomos</h1>
                        <p class="text-2xl text-orange-100">IoT, Conectividade e Controle Inteligente</p>
                    </div>
                </div>
                <div class="bg-white bg-opacity-20 rounded-lg p-6 mt-6">
                    <div class="grid grid-cols-3 gap-4 text-center">
                        <div>
                            <div class="text-3xl font-bold">60h</div>
                            <div class="text-sm text-orange-100">Dura√ß√£o</div>
                        </div>
                        <div>
                            <div class="text-3xl font-bold">7</div>
                            <div class="text-sm text-orange-100">M√≥dulos</div>
                        </div>
                        <div>
                            <div class="text-3xl font-bold">10</div>
                            <div class="text-sm text-orange-100">Projetos</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Overview -->
    <section class="py-12 bg-white">
        <div class="container mx-auto px-6 max-w-5xl">
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h2 class="text-2xl font-bold mb-4 text-autonomo">O que voc√™ vai aprender</h2>
                    <ul class="space-y-3">
                        <li class="flex items-start">
                            <span class="text-autonomo mr-2">‚úì</span>
                            <span>Programa√ß√£o avan√ßada com ESP32</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-autonomo mr-2">‚úì</span>
                            <span>Conectividade WiFi e Bluetooth</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-autonomo mr-2">‚úì</span>
                            <span>Controle PID e sistemas realimentados</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-autonomo mr-2">‚úì</span>
                            <span>Sensores avan√ßados (IMU, GPS, encoders)</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-autonomo mr-2">‚úì</span>
                            <span>Aplica√ß√µes web para controle remoto</span>
                        </li>
                        <li class="flex items-start">
                            <span class="text-autonomo mr-2">‚úì</span>
                            <span>Integra√ß√£o com nuvem e MQTT</span>
                        </li>
                    </ul>
                </div>
                <div>
                    <h2 class="text-2xl font-bold mb-4 text-autonomo">Pr√©-requisitos</h2>
                    <div class="bg-orange-50 rounded-lg p-6">
                        <p class="text-lg mb-4">
                            <strong>Conclus√£o do N√≠vel 1 ou conhecimento equivalente</strong>
                        </p>
                        <p class="text-gray-700 mb-4">
                            Voc√™ deve estar confort√°vel com:
                        </p>
                        <ul class="space-y-2 text-gray-700">
                            <li>‚Ä¢ Programa√ß√£o em C/C++ para Arduino</li>
                            <li>‚Ä¢ Eletr√¥nica b√°sica e uso de sensores</li>
                            <li>‚Ä¢ Controle de motores e atuadores</li>
                            <li>‚Ä¢ Leitura de esquemas el√©tricos</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Curriculum -->
    <section class="py-12 bg-gray-50">
        <div class="container mx-auto px-6 max-w-5xl">
            <h2 class="text-3xl font-bold mb-8 text-center">Curr√≠culo Detalhado</h2>

            <div class="space-y-6">
                <!-- M√≥dulo 1 -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                    <div class="bg-autonomo text-white p-4 flex items-center justify-between cursor-pointer" onclick="toggleModule(1)">
                        <div class="flex items-center">
                            <span class="text-2xl mr-3">1Ô∏è‚É£</span>
                            <div>
                                <h3 class="text-xl font-bold">ESP32 Deep Dive</h3>
                                <p class="text-sm text-orange-100">10 horas ‚Ä¢ 4 aulas</p>
                            </div>
                        </div>
                        <svg class="w-6 h-6 transform transition-transform" id="arrow-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                    <div class="p-6 hidden" id="module-1">
<div class="prose max-w-none">
<p class="mb-4 text-gray-700 leading-relaxed">_# M√≥dulo 2.1: Aprofundando no ESP32</p>

<h4 class="text-xl font-bold mb-3 mt-5 text-gray-800">Bem-vindo ao N√≠vel Intermedi√°rio!</h4>

<p class="mb-4 text-gray-700 leading-relaxed">No N√≠vel 1, voc√™ construiu um rob√¥ funcional e aprendeu os fundamentos da programa√ß√£o e eletr√¥nica. Agora, no N√≠vel 2, vamos mergulhar em conceitos mais avan√ßados para tornar nossos rob√¥s mais inteligentes e aut√¥nomos. Come√ßaremos explorando todo o potencial do <strong>ESP32</strong>, o c√©rebro poderoso que j√° estamos usando.</p>

<p class="mb-4 text-gray-700 leading-relaxed">Enquanto o Arduino UNO √© fant√°stico para come√ßar, o ESP32 √© uma plataforma muito mais robusta, projetada para a era da <strong>Internet das Coisas (IoT)</strong>. Suas principais vantagens s√£o o processamento dual-core e, mais importante, a conectividade sem fio integrada.</p>

<img src="imagens/esp32_pinout_1.png" alt="Pinagem do ESP32" class="w-full max-w-2xl mx-auto rounded-lg shadow-md my-6">
<em>Figura 1: Diagrama de pinagem detalhado de um ESP32 DevKit, mostrando a vasta quantidade de perif√©ricos dispon√≠veis.</em>

<p class="mb-4 text-gray-700 leading-relaxed">---</p>

<h4 class="text-xl font-bold mb-3 mt-5 text-gray-800">Arquitetura e Vantagens do ESP32</h4>

<div class="overflow-x-auto mb-6"><table class="w-full border-collapse border border-gray-300">
<thead class="bg-gray-100"><tr>
<th class="border border-gray-300 px-4 py-2 text-left font-semibold">Caracter√≠stica</th>
<th class="border border-gray-300 px-4 py-2 text-left font-semibold">Arduino UNO (ATmega328P)</th>
<th class="border border-gray-300 px-4 py-2 text-left font-semibold">ESP32 (Xtensa LX6)</th>
</tr></thead>
<tbody>
<tr>
<td class="border border-gray-300 px-4 py-2"><strong>Processador</strong></td>
<td class="border border-gray-300 px-4 py-2">Single-Core 8-bit @ 16 MHz</td>
<td class="border border-gray-300 px-4 py-2"><strong>Dual-Core 32-bit @ 240 MHz</strong></td>
</tr>
<tr>
<td class="border border-gray-300 px-4 py-2"><strong>Mem√≥ria RAM</strong></td>
<td class="border border-gray-300 px-4 py-2">2 KB</td>
<td class="border border-gray-300 px-4 py-2"><strong>520 KB</strong></td>
</tr>
<tr>
<td class="border border-gray-300 px-4 py-2"><strong>Mem√≥ria Flash</strong></td>
<td class="border border-gray-300 px-4 py-2">32 KB</td>
<td class="border border-gray-300 px-4 py-2"><strong>4 MB</strong> (ou mais)</td>
</tr>
<tr>
<td class="border border-gray-300 px-4 py-2"><strong>Conectividade</strong></td>
<td class="border border-gray-300 px-4 py-2">Nenhuma (requer shields)</td>
<td class="border border-gray-300 px-4 py-2"><strong>Wi-Fi 802.11 b/g/n e Bluetooth 4.2/BLE</strong></td>
</tr>
<tr>
<td class="border border-gray-300 px-4 py-2"><strong>Pinos GPIO</strong></td>
<td class="border border-gray-300 px-4 py-2">14 Digitais, 6 Anal√≥gicos</td>
<td class="border border-gray-300 px-4 py-2"><strong>At√© 34</strong>, com m√∫ltiplas fun√ß√µes (ADC, DAC, Touch, etc.)</td>
</tr>
<tr>
<td class="border border-gray-300 px-4 py-2"><strong>Tens√£o de Opera√ß√£o</strong></td>
<td class="border border-gray-300 px-4 py-2">5V</td>
<td class="border border-gray-300 px-4 py-2"><strong>3.3V</strong></td>
</tr>
</tbody>
</table></div>
<p class="mb-4 text-gray-700 leading-relaxed">Essa superioridade em hardware permite que o ESP32 execute tarefas muito mais complexas, como:</p>

<ul class="list-disc list-inside space-y-2 mb-4 ml-4">
<li class="mb-2">Hospedar servidores web completos.</li>
<li class="mb-2">Processar dados de m√∫ltiplos sensores em tempo real.</li>
<li class="mb-2">Comunicar-se com outros dispositivos e servi√ßos na nuvem.</li>
<li class="mb-2">Executar algoritmos de machine learning (no N√≠vel 3).</li>
</ul>

<h5 class="text-lg font-bold mb-2 mt-4 text-gray-700">O Sistema Dual-Core</h5>

<p class="mb-4 text-gray-700 leading-relaxed">O ESP32 possui dois n√∫cleos de processamento que podem executar tarefas de forma independente. Isso √© extremamente √∫til em rob√≥tica. Podemos, por exemplo, dedicar um n√∫cleo para tarefas cr√≠ticas de tempo real (como o controle dos motores e a leitura de sensores), enquanto o outro n√∫cleo cuida da comunica√ß√£o Wi-Fi e da interface do usu√°rio. Essa divis√£o evita que a conex√£o de rede interfira na estabilidade do rob√¥.</p>

<p class="mb-4 text-gray-700 leading-relaxed">---</p>

<h4 class="text-xl font-bold mb-3 mt-5 text-gray-800">Pinos e Perif√©ricos Especiais</h4>

<p class="mb-4 text-gray-700 leading-relaxed">Al√©m dos pinos digitais e anal√≥gicos, o ESP32 oferece uma gama de perif√©ricos avan√ßados:</p>

<ul class="list-disc list-inside space-y-2 mb-4 ml-4">
<li class="mb-2"><strong>ADC (Conversor Anal√≥gico-Digital)</strong>: M√∫ltiplos pinos para ler sensores anal√≥gicos com maior precis√£o.</li>
<li class="mb-2"><strong>DAC (Conversor Digital-Anal√≥gico)</strong>: Dois pinos que podem gerar um sinal de tens√£o anal√≥gico real, √∫til para √°udio.</li>
<li class="mb-2"><strong>Sensores de Toque</strong>: Pinos que podem detectar o toque capacitivo, permitindo criar interfaces sem bot√µes f√≠sicos.</li>
<li class="mb-2"><strong>LEDC (PWM Avan√ßado)</strong>: O sistema de PWM do ESP32 √© muito mais flex√≠vel que o do Arduino, permitindo configurar frequ√™ncia e resolu√ß√£o para at√© 16 canais, ideal para controlar muitos servos ou LEDs com precis√£o.</li>
<li class="mb-2"><strong>Comunica√ß√£o</strong>: Al√©m do Serial (<code class="bg-gray-100 px-2 py-1 rounded text-sm">UART</code>), o ESP32 suporta <code class="bg-gray-100 px-2 py-1 rounded text-sm">I2C</code> e <code class="bg-gray-100 px-2 py-1 rounded text-sm">SPI</code>, protocolos para se comunicar com centenas de sensores e outros chips usando poucos fios.</li>
</ul>

<p class="mb-4 text-gray-700 leading-relaxed">---</p>

<h4 class="text-xl font-bold mb-3 mt-5 text-gray-800">Projeto Pr√°tico: Monitor de Status com Web Server</h4>

<p class="mb-4 text-gray-700 leading-relaxed">Vamos criar um projeto que demonstra o poder do ESP32. Construiremos um servidor web que n√£o apenas controla um LED, mas tamb√©m exibe o status de um pino (como um bot√£o) e o tempo que o ESP32 est√° ligado (<code class="bg-gray-100 px-2 py-1 rounded text-sm">uptime</code>).</p>

<strong>Materiais Necess√°rios:</strong>
<ul class="list-disc list-inside space-y-2 mb-4 ml-4">
<li class="mb-2">1x ESP32 DevKit</li>
<li class="mb-2">1x LED</li>
<li class="mb-2">1x Resistor de 220Œ©</li>
<li class="mb-2">1x Bot√£o (Push-button)</li>
<li class="mb-2">1x Resistor de 10kŒ© (pull-down)</li>
<li class="mb-2">Protoboard e Fios Jumper</li>
</ul>

<strong>Montagem do Circuito:</strong>

<ol class="list-decimal list-inside space-y-2 mb-4 ml-4">
<li class="mb-2"><strong>LED</strong>: Conecte o anodo (+) do LED ao <strong>GPIO 26</strong> atrav√©s do resistor de 220Œ©. Conecte o catodo (-) ao <code class="bg-gray-100 px-2 py-1 rounded text-sm">GND</code>.</li>
<li class="mb-2"><strong>Bot√£o</strong>: Conecte um terminal do bot√£o ao <strong>GPIO 25</strong>. No mesmo terminal, conecte o resistor de 10kŒ©, e a outra ponta do resistor ao <code class="bg-gray-100 px-2 py-1 rounded text-sm">GND</code>. Conecte o outro terminal do bot√£o ao <code class="bg-gray-100 px-2 py-1 rounded text-sm">3.3V</code> do ESP32.</li>
</ol>

<strong>C√≥digo do Projeto:</strong>

<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="language-cpp">#include &lt;WiFi.h&gt;

// Configura√ß√µes de Rede
const char* ssid = "SEU_WIFI"; // &lt;&lt;&lt; COLOQUE O NOME DA SUA REDE
const char* password = "SUA_SENHA"; // &lt;&lt;&lt; COLOQUE A SENHA DA SUA REDE

WiFiServer server(80);

// Pinos dos componentes
const int pinoLed = 26;
const int pinoBotao = 25;

void setup() {
  Serial.begin(115200);
  pinMode(pinoLed, OUTPUT);
  pinMode(pinoBotao, INPUT);

  // Conecta ao Wi-Fi
  Serial.print("Conectando a ");
  Serial.println(ssid);
  WiFi.begin(ssid, password);
  while (WiFi.status() != WL_CONNECTED) {
    delay(500);
    Serial.print(".");
  }
  Serial.println("\nWiFi conectado!");
  Serial.print("Endere√ßo IP: ");
  Serial.println(WiFi.localIP());

  server.begin();
}

void loop() {
  WiFiClient client = server.available();
  if (client) {
    String req = client.readStringUntil('\r');

    // Controle do LED
    if (req.indexOf("/led/on") != -1) {
      digitalWrite(pinoLed, HIGH);
    } else if (req.indexOf("/led/off") != -1) {
      digitalWrite(pinoLed, LOW);
    }

    // Monta a p√°gina HTML
    client.println("HTTP/1.1 200 OK");
    client.println("Content-Type: text/html");
    client.println("Connection: close");
    client.println();
    client.println("&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt;&lt;title&gt;ESP32 Web Server&lt;/title&gt;");
    client.println("&lt;meta http-equiv=\"refresh\" content=\"5\"&gt;"); // Atualiza a p√°gina a cada 5s
    client.println("&lt;/head&gt;&lt;body&gt;&lt;h1&gt;Status do ESP32&lt;/h1&gt;");
    client.print("&lt;p&gt;Uptime: ");
    client.print(millis() / 1000);
    client.println(" segundos&lt;/p&gt;");
    client.print("&lt;p&gt;Status do Bot√£o: ");
    client.print(digitalRead(pinoBotao) == HIGH ? "Pressionado" : "Solto");
    client.println("&lt;/p&gt;");
    client.println("&lt;p&gt;Controle do LED:&lt;/p&gt;");
    client.println("&lt;a href=\"/led/on\"&gt;&lt;button&gt;Ligar&lt;/button&gt;&lt;/a&gt;");
    client.println("&lt;a href=\"/led/off\"&gt;&lt;button&gt;Desligar&lt;/button&gt;&lt;/a&gt;");
    client.println("&lt;/body&gt;&lt;/html&gt;");
  }
}
</code></pre>

<strong>Resultado Esperado:</strong>

<ol class="list-decimal list-inside space-y-2 mb-4 ml-4">
<li class="mb-2"><strong>Atualize o SSID e a Senha</strong>: Mude <code class="bg-gray-100 px-2 py-1 rounded text-sm">"SEU_WIFI"</code> e <code class="bg-gray-100 px-2 py-1 rounded text-sm">"SUA_SENHA"</code> para os dados da sua rede Wi-Fi.</li>
<li class="mb-2"><strong>Carregue o C√≥digo</strong>: Envie o c√≥digo para o ESP32.</li>
<li class="mb-2"><strong>Encontre o IP</strong>: Abra o Monitor Serial. Ele mostrar√° o endere√ßo de IP que o ESP32 recebeu do seu roteador.</li>
<li class="mb-2"><strong>Acesse o Servidor</strong>: Digite esse endere√ßo de IP no navegador de qualquer dispositivo (computador, celular) conectado √† mesma rede Wi-Fi.</li>
</ol>

<p class="mb-4 text-gray-700 leading-relaxed">Voc√™ ver√° uma p√°gina que mostra h√° quanto tempo o ESP32 est√° ligado e o estado do bot√£o. A p√°gina se atualizar√° automaticamente a cada 5 segundos. Os bot√µes na p√°gina permitir√£o que voc√™ ligue e desligue o LED remotamente.</p>

<p class="mb-4 text-gray-700 leading-relaxed">Este projeto demonstra como o ESP32 pode atuar como um dispositivo de IoT completo, servindo uma interface de usu√°rio e interagindo com o hardware simultaneamente. No pr√≥ximo m√≥dulo, vamos aprofundar na cria√ß√£o de interfaces web mais ricas e na comunica√ß√£o sem fio.</p>

                    </div>
                    </div>
                </div>

                <!-- M√≥dulo 2 -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                    <div class="bg-autonomo text-white p-4 flex items-center justify-between cursor-pointer" onclick="toggleModule(2)">
                        <div class="flex items-center">
                            <span class="text-2xl mr-3">2Ô∏è‚É£</span>
                            <div>
                                <h3 class="text-xl font-bold">WiFi e Conectividade</h3>
                                <p class="text-sm text-orange-100">10 horas ‚Ä¢ 5 aulas</p>
                            </div>
                        </div>
                        <svg class="w-6 h-6 transform transition-transform" id="arrow-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                    <div class="p-6 hidden" id="module-2">
<div class="prose max-w-none">
<p class="mb-4 text-gray-700 leading-relaxed">_# M√≥dulo 2.2: Comunica√ß√£o Sem Fio e Interfaces Web</p>

<h4 class="text-xl font-bold mb-3 mt-5 text-gray-800">Wi-Fi: O Cora√ß√£o da Conectividade</h4>

<p class="mb-4 text-gray-700 leading-relaxed">No projeto anterior, usamos o ESP32 no modo <strong>Station (STA)</strong>, onde ele se conecta a uma rede Wi-Fi existente, como um celular ou computador. No projeto do N√≠vel 1 (Rover de Papel), usamos o modo <strong>Access Point (AP)</strong>, onde o ESP32 cria sua pr√≥pria rede Wi-Fi.</p>

<p class="mb-4 text-gray-700 leading-relaxed">Compreender a diferen√ßa √© fundamental para a rob√≥tica conectada:</p>

<div class="overflow-x-auto mb-6"><table class="w-full border-collapse border border-gray-300">
<thead class="bg-gray-100"><tr>
<th class="border border-gray-300 px-4 py-2 text-left font-semibold">Modo</th>
<th class="border border-gray-300 px-4 py-2 text-left font-semibold">Descri√ß√£o</th>
<th class="border border-gray-300 px-4 py-2 text-left font-semibold">Vantagens</th>
<th class="border border-gray-300 px-4 py-2 text-left font-semibold">Desvantagens</th>
</tr></thead>
<tbody>
<tr>
<td class="border border-gray-300 px-4 py-2"><strong>Station (STA)</strong></td>
<td class="border border-gray-300 px-4 py-2">O ESP32 √© um <strong>cliente</strong> em uma rede maior (seu roteador de casa).</td>
<td class="border border-gray-300 px-4 py-2">Acesso √† internet, comunica√ß√£o com outros dispositivos na rede.</td>
<td class="border border-gray-300 px-4 py-2">Depende de uma rede Wi-Fi existente.</td>
</tr>
<tr>
<td class="border border-gray-300 px-4 py-2"><strong>Access Point (AP)</strong></td>
<td class="border border-gray-300 px-4 py-2">O ESP32 √© o <strong>roteador</strong>, criando sua pr√≥pria rede.</td>
<td class="border border-gray-300 px-4 py-2">Autocontido, funciona em qualquer lugar sem infraestrutura externa.</td>
<td class="border border-gray-300 px-4 py-2">Sem acesso √† internet, apenas dispositivos conectados diretamente a ele podem se comunicar.</td>
</tr>
<tr>
<td class="border border-gray-300 px-4 py-2"><strong>AP + STA</strong></td>
<td class="border border-gray-300 px-4 py-2">Modo h√≠brido onde o ESP32 cria sua rede e simultaneamente se conecta a outra.</td>
<td class="border border-gray-300 px-4 py-2">O melhor dos dois mundos: oferece um ponto de acesso para configura√ß√£o e ainda se conecta √† internet.</td>
<td class="border border-gray-300 px-4 py-2">Mais complexo de gerenciar.</td>
</tr>
</tbody>
</table></div>
<p class="mb-4 text-gray-700 leading-relaxed">Para rob√¥s m√≥veis, o modo AP √© excelente para controle direto em campo, enquanto o modo STA √© ideal para rob√¥s que precisam buscar informa√ß√µes da internet ou serem controlados de qualquer lugar do mundo.</p>

<p class="mb-4 text-gray-700 leading-relaxed">---</p>

<h4 class="text-xl font-bold mb-3 mt-5 text-gray-800">HTTP e a Web: Como Funciona a Comunica√ß√£o</h4>

<p class="mb-4 text-gray-700 leading-relaxed">Quando voc√™ acessa uma p√°gina no seu navegador, seu dispositivo est√° fazendo uma <strong>requisi√ß√£o HTTP</strong> para um servidor. O servidor ent√£o envia de volta uma <strong>resposta HTTP</strong>, que cont√©m o conte√∫do da p√°gina (geralmente HTML, CSS e JavaScript).</p>

<ul class="list-disc list-inside space-y-2 mb-4 ml-4">
<li class="mb-2"><strong>Requisi√ß√£o (Request)</strong>: O cliente (navegador) pede um recurso. Ex: <code class="bg-gray-100 px-2 py-1 rounded text-sm">GET /led/on</code>.</li>
<li class="mb-2"><strong>Resposta (Response)</strong>: O servidor (ESP32) envia o recurso ou uma confirma√ß√£o. Ex: <code class="bg-gray-100 px-2 py-1 rounded text-sm">HTTP/1.1 200 OK</code> seguido do c√≥digo HTML.</li>
</ul>

<p class="mb-4 text-gray-700 leading-relaxed">Nosso ESP32 atua como um mini servidor web. Ele escuta por requisi√ß√µes e responde de acordo com a l√≥gica que programamos.</p>

<h5 class="text-lg font-bold mb-2 mt-4 text-gray-700">Criando Interfaces Web Melhores</h5>

<p class="mb-4 text-gray-700 leading-relaxed">No c√≥digo anterior, o HTML e o CSS estavam misturados em uma √∫nica <code class="bg-gray-100 px-2 py-1 rounded text-sm">String</code> no c√≥digo C++, o que √© dif√≠cil de manter. Uma abordagem muito mais limpa √© armazenar o HTML em uma vari√°vel separada usando a nota√ß√£o <code class="bg-gray-100 px-2 py-1 rounded text-sm">R"rawliteral(...)rawliteral"</code> do C++. Isso permite escrever HTML de forma muito mais natural.</p>

<img src="imagens/esp32cam_robot.jpg" alt="Rob√¥ com Interface Web" class="w-full max-w-2xl mx-auto rounded-lg shadow-md my-6">
<em>Figura 1: Um rob√¥ com ESP32-CAM sendo controlado por uma interface web sofisticada em um smartphone.</em>

<p class="mb-4 text-gray-700 leading-relaxed">---</p>

<h4 class="text-xl font-bold mb-3 mt-5 text-gray-800">Projeto Pr√°tico: Dashboard de Controle Avan√ßado</h4>

<p class="mb-4 text-gray-700 leading-relaxed">Vamos evoluir nosso web server para um dashboard mais completo. Ele ter√° bot√µes que mudam de cor para refletir o estado do LED e usar√° um pouco de JavaScript para enviar comandos sem recarregar a p√°gina (uma t√©cnica conhecida como <strong>AJAX</strong>), tornando a experi√™ncia muito mais fluida.</p>

<strong>Materiais:</strong>
<ul class="list-disc list-inside space-y-2 mb-4 ml-4">
<li class="mb-2">Os mesmos do projeto anterior (M√≥dulo 2.1).</li>
</ul>

<strong>Montagem:</strong>
<ul class="list-disc list-inside space-y-2 mb-4 ml-4">
<li class="mb-2">A mesma do projeto anterior.</li>
</ul>

<strong>C√≥digo do Projeto:</strong>

<p class="mb-4 text-gray-700 leading-relaxed">Este c√≥digo √© mais longo, mas a maior parte √© a p√°gina HTML e o JavaScript. A l√≥gica no ESP32 continua simples.</p>

<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="language-cpp">#include &lt;WiFi.h&gt;

// ===== Configura√ß√µes de Rede =====
const char* ssid = "SEU_WIFI";
const char* password = "SUA_SENHA";
WiFiServer server(80);

// ===== Pinos e Estado =====
const int pinoLed = 26;
bool estadoLed = false;

// ===== P√°gina HTML com CSS e JavaScript =====
const char* HTML_PAGE = R"rawliteral(
&lt;!DOCTYPE html&gt;
&lt;html lang="pt-BR"&gt;
&lt;head&gt;
&lt;meta charset="utf-8" /&gt;
&lt;meta name="viewport" content="width=device-width,initial-scale=1" /&gt;
&lt;title&gt;ESP32 Dashboard&lt;/title&gt;
&lt;style&gt;
  body { font-family: system-ui, sans-serif; text-align:center; margin: 24px; background-color: #f0f0f0; }
  h1 { color: #333; }
  .card { background-color: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); max-width: 400px; margin: 20px auto; }
  button { font-size: 18px; padding: 12px 24px; border: none; border-radius: 8px; cursor: pointer; transition: background-color 0.3s; }
  .on { background-color: #2ecc71; color: white; }
  .off { background-color: #e74c3c; color: white; }
&lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;h1&gt;Dashboard do Rob√¥&lt;/h1&gt;
  &lt;div class="card"&gt;
    &lt;h2&gt;Controle do LED&lt;/h2&gt;
    &lt;p&gt;O LED est√° atualmente: &lt;b id="status"&gt;DESLIGADO&lt;/b&gt;&lt;/p&gt;
    &lt;button id="btnLigar" class="on" onclick="sendCommand('on')"&gt;LIGAR&lt;/button&gt;
    &lt;button id="btnDesligar" class="off" onclick="sendCommand('off')"&gt;DESLIGAR&lt;/button&gt;
  &lt;/div&gt;
&lt;script&gt;
function sendCommand(cmd) {
  fetch('/led/' + cmd)
    .then(response =&gt; response.text())
    .then(data =&gt; {
      document.getElementById('status').innerText = data;
    });
}
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
)rawliteral";

void setup() {
  pinMode(pinoLed, OUTPUT);
  digitalWrite(pinoLed, LOW);

  WiFi.begin(ssid, password);
  while (WiFi.status() != WL_CONNECTED) { delay(500); }
  server.begin();
}

void handleRequest(WiFiClient& client, String req) {
  String response_content_type = "text/html";
  String response_body = "";

  if (req.startsWith("GET /led/on")) {
    estadoLed = true;
    digitalWrite(pinoLed, HIGH);
    response_content_type = "text/plain";
    response_body = "LIGADO";
  } else if (req.startsWith("GET /led/off")) {
    estadoLed = false;
    digitalWrite(pinoLed, LOW);
    response_content_type = "text/plain";
    response_body = "DESLIGADO";
  } else {
    response_body = HTML_PAGE;
  }

  client.println("HTTP/1.1 200 OK");
  client.println("Content-Type: " + response_content_type + "; charset=utf-8");
  client.println("Connection: close\r\n");
  client.print(response_body);
}

void loop() {
  WiFiClient client = server.available();
  if (!client) return;
  String req = client.readStringUntil('\r');
  while (client.available()) client.read();
  handleRequest(client, req);
  delay(1);
}
</code></pre>

<strong>Como o C√≥digo Funciona:</strong>

<ol class="list-decimal list-inside space-y-2 mb-4 ml-4">
<li class="mb-2"><strong>HTML/CSS</strong>: A p√°gina agora tem um estilo mais agrad√°vel, com um "card" para organizar o conte√∫do.</li>
<li class="mb-2"><strong>JavaScript (AJAX)</strong>: A fun√ß√£o <code class="bg-gray-100 px-2 py-1 rounded text-sm">sendCommand(cmd)</code> usa a API <code class="bg-gray-100 px-2 py-1 rounded text-sm">fetch()</code> do navegador. Quando um bot√£o √© clicado, o JavaScript envia a requisi√ß√£o (ex: <code class="bg-gray-100 px-2 py-1 rounded text-sm">/led/on</code>) para o ESP32 em segundo plano. Ele n√£o recarrega a p√°gina inteira.</li>
<li class="mb-2"><strong>L√≥gica do ESP32</strong>: O servidor agora √© mais inteligente. Se ele recebe um comando <code class="bg-gray-100 px-2 py-1 rounded text-sm">/led/on</code> ou <code class="bg-gray-100 px-2 py-1 rounded text-sm">/led/off</code>, ele muda o estado do LED e responde apenas com o novo status em texto puro (ex: "LIGADO"). Se ele recebe qualquer outra requisi√ß√£o, ele responde com a p√°gina HTML completa.</li>
<li class="mb-2"><strong>Atualiza√ß√£o da Interface</strong>: O JavaScript recebe a resposta de texto puro e atualiza apenas o <code class="bg-gray-100 px-2 py-1 rounded text-sm"><span></code> com o ID "status", mudando o texto na tela sem piscar.</li>
</ol>

<strong>Resultado Esperado:</strong>

<p class="mb-4 text-gray-700 leading-relaxed">Ao acessar o IP do seu ESP32, voc√™ ver√° um dashboard mais profissional. Clicar nos bot√µes "LIGAR" e "DESLIGAR" mudar√° o estado do LED instantaneamente, e o texto de status na p√°gina ser√° atualizado sem que a p√°gina inteira precise ser recarregada. Esta √© a base para criar interfaces de controle de rob√¥s muito mais responsivas e agrad√°veis de usar.</p>

<p class="mb-4 text-gray-700 leading-relaxed">No pr√≥ximo m√≥dulo, vamos adicionar mais "sentidos" ao nosso rob√¥ com sensores avan√ßados.</p>

                    </div>
                    </div>
                </div>

                <!-- M√≥dulo 3 -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                    <div class="bg-autonomo text-white p-4 flex items-center justify-between cursor-pointer" onclick="toggleModule(3)">
                        <div class="flex items-center">
                            <span class="text-2xl mr-3">3Ô∏è‚É£</span>
                            <div>
                                <h3 class="text-xl font-bold">Bluetooth e BLE</h3>
                                <p class="text-sm text-orange-100">8 horas ‚Ä¢ 3 aulas</p>
                            </div>
                        </div>
                        <svg class="w-6 h-6 transform transition-transform" id="arrow-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                    <div class="p-6 hidden" id="module-3">
<div class="prose max-w-none">
<p class="mb-4 text-gray-700 leading-relaxed">_# M√≥dulo 2.3: Sensores Avan√ßados</p>

<h4 class="text-xl font-bold mb-3 mt-5 text-gray-800">Dando Mais Sentidos ao Rob√¥</h4>

<p class="mb-4 text-gray-700 leading-relaxed">No N√≠vel 1, usamos o sensor ultrass√¥nico para dar ao nosso rob√¥ uma percep√ß√£o b√°sica de dist√¢ncia. Agora, vamos equip√°-lo com sentidos mais agu√ßados que permitem tarefas de navega√ß√£o complexas, como seguir uma linha ou saber sua pr√≥pria orienta√ß√£o no espa√ßo.</p>

<h5 class="text-lg font-bold mb-2 mt-4 text-gray-700">Sensor de Linha Infravermelho (TCRT5000)</h5>

<p class="mb-4 text-gray-700 leading-relaxed">O TCRT5000 √© um sensor de reflet√¢ncia. Ele consiste em um LED infravermelho (emissor) e um fototransistor (receptor). O LED emite luz IR, que √© refletida pela superf√≠cie abaixo do sensor e captada pelo fototransistor.</p>

<ul class="list-disc list-inside space-y-2 mb-4 ml-4">
<li class="mb-2"><strong>Superf√≠cies Claras (Branco)</strong>: Refletem muita luz IR. O fototransistor recebe um sinal forte.</li>
<li class="mb-2"><strong>Superf√≠cies Escuras (Preto)</strong>: Absorvem a maior parte da luz IR. O fototransistor recebe um sinal fraco.</li>
</ul>

<p class="mb-4 text-gray-700 leading-relaxed">Ao ler a intensidade do sinal refletido, o rob√¥ pode distinguir entre uma linha preta e um fundo branco, tornando-se a base para um <strong>rob√¥ seguidor de linha</strong>.</p>

<img src="imagens/tcrt5000_module.jpg" alt="Sensor de Linha" class="w-full max-w-2xl mx-auto rounded-lg shadow-md my-6">
<em>Figura 1: Um m√≥dulo com o sensor TCRT5000. Ele j√° inclui o circuito necess√°rio e um pino de sa√≠da digital e/ou anal√≥gico.</em>

<h5 class="text-lg font-bold mb-2 mt-4 text-gray-700">Unidade de Medi√ß√£o Inercial (IMU) - MPU-6050</h5>

<p class="mb-4 text-gray-700 leading-relaxed">A IMU √© um dos sensores mais poderosos para rob√≥tica. O MPU-6050 √© um chip que combina dois sensores em um:</p>

<ol class="list-decimal list-inside space-y-2 mb-4 ml-4">
<li class="mb-2"><strong>Aceler√¥metro</strong>: Mede a acelera√ß√£o linear em tr√™s eixos (X, Y, Z). Pode ser usado para detectar inclina√ß√£o e movimento.</li>
<li class="mb-2"><strong>Girosc√≥pio</strong>: Mede a velocidade angular (rota√ß√£o) em tr√™s eixos (X, Y, Z). √â essencial para saber o qu√£o r√°pido o rob√¥ est√° virando.</li>
</ol>

<p class="mb-4 text-gray-700 leading-relaxed">Combinando os dados desses dois sensores (um processo chamado de <strong>fus√£o de sensores</strong>), podemos obter uma estimativa muito precisa da orienta√ß√£o do rob√¥ no espa√ßo (seu <em>roll</em>, <em>pitch</em> e <em>yaw</em>). Isso √© crucial para realizar curvas precisas (ex: virar exatamente 90 graus) ou para manter o rob√¥ equilibrado.</p>

<img src="imagens/mpu6050_wiring.png" alt="Sensor IMU MPU-6050" class="w-full max-w-2xl mx-auto rounded-lg shadow-md my-6">
<em>Figura 2: Um m√≥dulo MPU-6050 conectado a um Arduino via protocolo I2C, que usa apenas dois fios de dados (SDA e SCL).</em>

<p class="mb-4 text-gray-700 leading-relaxed">---</p>

<h4 class="text-xl font-bold mb-3 mt-5 text-gray-800">Projeto Pr√°tico: Navegador com IMU</h4>

<p class="mb-4 text-gray-700 leading-relaxed">Vamos construir um programa que l√™ os dados do MPU-6050 e os exibe no Monitor Serial. Este √© o primeiro passo para usar a IMU em um sistema de navega√ß√£o.</p>

<strong>Materiais Necess√°rios:</strong>
<ul class="list-disc list-inside space-y-2 mb-4 ml-4">
<li class="mb-2">1x ESP32 DevKit</li>
<li class="mb-2">1x M√≥dulo MPU-6050</li>
<li class="mb-2">Protoboard e Fios Jumper</li>
</ul>

<strong>Montagem do Circuito (Protocolo I2C):</strong>

<p class="mb-4 text-gray-700 leading-relaxed">O MPU-6050 se comunica usando o protocolo I2C, que √© muito conveniente pois usa apenas dois pinos de dados.</p>

<ol class="list-decimal list-inside space-y-2 mb-4 ml-4">
<li class="mb-2"><strong>Alimenta√ß√£o</strong>: Conecte o pino <code class="bg-gray-100 px-2 py-1 rounded text-sm">VCC</code> do MPU-6050 ao pino <code class="bg-gray-100 px-2 py-1 rounded text-sm">3.3V</code> do ESP32. Conecte o <code class="bg-gray-100 px-2 py-1 rounded text-sm">GND</code> do MPU-6050 ao <code class="bg-gray-100 px-2 py-1 rounded text-sm">GND</code> do ESP32.</li>
<li class="mb-2"><strong>Dados I2C</strong>:</li>
</ol>
<p class="mb-4 text-gray-700 leading-relaxed">    -   Conecte o pino <code class="bg-gray-100 px-2 py-1 rounded text-sm">SCL</code> (Serial Clock) do MPU-6050 ao pino <strong>GPIO 22</strong> do ESP32 (pino SCL padr√£o).</p>
<p class="mb-4 text-gray-700 leading-relaxed">    -   Conecte o pino <code class="bg-gray-100 px-2 py-1 rounded text-sm">SDA</code> (Serial Data) do MPU-6050 ao pino <strong>GPIO 21</strong> do ESP32 (pino SDA padr√£o).</p>

<strong>C√≥digo do Projeto:</strong>

<p class="mb-4 text-gray-700 leading-relaxed">Primeiro, instale a biblioteca para o MPU-6050. V√° em <code class="bg-gray-100 px-2 py-1 rounded text-sm">Ferramentas > Gerenciar Bibliotecas</code> e instale a biblioteca <strong>"Adafruit MPU6050"</strong> e suas depend√™ncias (como a <strong>"Adafruit BusIO"</strong> e a <strong>"Adafruit Unified Sensor"</strong>).</p>

<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="language-cpp">#include &lt;Adafruit_MPU6050.h&gt;
#include &lt;Adafruit_Sensor.h&gt;
#include &lt;Wire.h&gt;

// Cria um objeto para o sensor MPU6050
Adafruit_MPU6050 mpu;

void setup() {
  Serial.begin(115200);

  // Tenta inicializar o sensor
  if (!mpu.begin()) {
    Serial.println(\"Falha ao encontrar o chip MPU6050. Verifique as conex√µes!\");
    while (1) {
      delay(10);
    }
  }
  Serial.println(\"MPU6050 Encontrado!\");

  // Configura as faixas de medi√ß√£o (opcional)
  mpu.setAccelerometerRange(MPU6050_RANGE_8_G);
  mpu.setGyroRange(MPU6050_RANGE_500_DPS);
  mpu.setFilterBandwidth(MPU6050_BAND_21_HZ);
}

void loop() {
  // Cria vari√°veis para armazenar os eventos (leituras) dos sensores
  sensors_event_t a, g, temp;
  mpu.getEvent(&a, &g, &temp);

  // Imprime os dados do Aceler√¥metro (em m/s^2)
  Serial.print(\"Acelera√ß√£o X: \");
  Serial.print(a.acceleration.x);
  Serial.print(\", Y: \");
  Serial.print(a.acceleration.y);
  Serial.print(\", Z: \");
  Serial.print(a.acceleration.z);
  Serial.println(\" m/s^2\");

  // Imprime os dados do Girosc√≥pio (em rad/s)
  Serial.print(\"Rota√ß√£o X: \");
  Serial.print(g.gyro.x);
  Serial.print(\", Y: \");
  Serial.print(g.gyro.y);
  Serial.print(\", Z: \");
  Serial.print(g.gyro.z);
  Serial.println(\" rad/s\");

  Serial.println(\"---\" );

  delay(500); // Pausa de meio segundo entre as leituras
}
</code></pre>

<strong>Resultado Esperado:</strong>

<p class="mb-4 text-gray-700 leading-relaxed">Abra o Monitor Serial. Voc√™ ver√° um fluxo cont√≠nuo de dados do aceler√¥metro e do girosc√≥pio. Tente mover e girar o sensor MPU-6050. Observe como os valores nos eixos X, Y e Z mudam de acordo com o movimento.</p>

<ul class="list-disc list-inside space-y-2 mb-4 ml-4">
<li class="mb-2"><strong>Aceler√¥metro</strong>: Com o sensor parado e nivelado, o eixo Z deve mostrar um valor pr√≥ximo a 9.8 m/s¬≤, que √© a acelera√ß√£o da gravidade. Ao inclinar o sensor, a gravidade ser√° distribu√≠da entre os eixos X e Y.</li>
<li class="mb-2"><strong>Girosc√≥pio</strong>: Com o sensor parado, os valores devem ser pr√≥ximos de zero. Ao gir√°-lo, voc√™ ver√° picos de velocidade angular no eixo correspondente.</li>
</ul>

<p class="mb-4 text-gray-700 leading-relaxed">Entender e interpretar esses dados √© o primeiro passo para criar algoritmos de controle sofisticados, que √© exatamente o que faremos no pr√≥ximo m√≥dulo.</p>

                    </div>
                    </div>
                </div>

                <!-- M√≥dulo 4 -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                    <div class="bg-autonomo text-white p-4 flex items-center justify-between cursor-pointer" onclick="toggleModule(4)">
                        <div class="flex items-center">
                            <span class="text-2xl mr-3">4Ô∏è‚É£</span>
                            <div>
                                <h3 class="text-xl font-bold">Sensores Avan√ßados e IMU</h3>
                                <p class="text-sm text-orange-100">10 horas ‚Ä¢ 4 aulas</p>
                            </div>
                        </div>
                        <svg class="w-6 h-6 transform transition-transform" id="arrow-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                    <div class="p-6 hidden" id="module-4">
<div class="prose max-w-none">
<p class="mb-4 text-gray-700 leading-relaxed">_# M√≥dulo 2.4: Algoritmos de Controle</p>

<h4 class="text-xl font-bold mb-3 mt-5 text-gray-800">Dando Intelig√™ncia ao Movimento</h4>

<p class="mb-4 text-gray-700 leading-relaxed">At√© agora, nossos rob√¥s ou eram controlados diretamente por n√≥s (teleoperados) ou tinham uma l√≥gica de decis√£o muito simples (se a dist√¢ncia for menor que X, fa√ßa Y). Para criar rob√¥s verdadeiramente aut√¥nomos, precisamos de <strong>algoritmos de controle</strong>: um conjunto de regras e c√°lculos que permitem ao rob√¥ tomar decis√µes inteligentes com base nos dados dos sensores para atingir um objetivo.</p>

<p class="mb-4 text-gray-700 leading-relaxed">Neste m√≥dulo, vamos explorar dois algoritmos fundamentais: a l√≥gica para seguir uma linha e o famoso controle PID.</p>

<p class="mb-4 text-gray-700 leading-relaxed">---</p>

<h4 class="text-xl font-bold mb-3 mt-5 text-gray-800">L√≥gica de um Rob√¥ Seguidor de Linha</h4>

<p class="mb-4 text-gray-700 leading-relaxed">Um dos desafios cl√°ssicos da rob√≥tica √© construir um rob√¥ que possa seguir uma linha preta em um fundo branco. A l√≥gica por tr√°s disso √© um excelente exerc√≠cio de controle.</p>

<p class="mb-4 text-gray-700 leading-relaxed">Imagine que nosso rob√¥ tem <strong>tr√™s sensores de linha</strong> (TCRT5000) na frente: um √† esquerda, um no centro e um √† direita.</p>

<img src="imagens/ilustracao_robo_autonomo.png" alt="Ilustra√ß√£o de Rob√¥ Aut√¥nomo" class="w-full max-w-2xl mx-auto rounded-lg shadow-md my-6">
<em>Figura 1: Um rob√¥ aut√¥nomo precisa de algoritmos para interpretar os dados dos seus sensores e decidir como se mover.</em>

<p class="mb-4 text-gray-700 leading-relaxed">A l√≥gica de decis√£o pode ser descrita como uma s√©rie de regras "SE-ENT√ÉO":</p>

<div class="overflow-x-auto mb-6"><table class="w-full border-collapse border border-gray-300">
<thead class="bg-gray-100"><tr>
<th class="border border-gray-300 px-4 py-2 text-left font-semibold">Leitura dos Sensores (Esquerda, Centro, Direita)</th>
<th class="border border-gray-300 px-4 py-2 text-left font-semibold">Situa√ß√£o</th>
<th class="border border-gray-300 px-4 py-2 text-left font-semibold">A√ß√£o do Rob√¥</th>
</tr></thead>
<tbody>
<tr>
<td class="border border-gray-300 px-4 py-2">Branco, <strong>Preto</strong>, Branco</td>
<td class="border border-gray-300 px-4 py-2">O rob√¥ est√° perfeitamente sobre a linha.</td>
<td class="border border-gray-300 px-4 py-2"><strong>Mover para frente</strong> em velocidade normal.</td>
</tr>
<tr>
<td class="border border-gray-300 px-4 py-2">Branco, Branco, <strong>Preto</strong></td>
<td class="border border-gray-300 px-4 py-2">O rob√¥ est√° desviando para a esquerda.</td>
<td class="border border-gray-300 px-4 py-2"><strong>Virar para a direita</strong> para corrigir.</td>
</tr>
<tr>
<td class="border border-gray-300 px-4 py-2"><strong>Preto</strong>, Branco, Branco</td>
<td class="border border-gray-300 px-4 py-2">O rob√¥ est√° desviando para a direita.</td>
<td class="border border-gray-300 px-4 py-2"><strong>Virar para a esquerda</strong> para corrigir.</td>
</tr>
<tr>
<td class="border border-gray-300 px-4 py-2">Branco, Branco, Branco</td>
<td class="border border-gray-300 px-4 py-2">O rob√¥ perdeu a linha (ou chegou a uma interrup√ß√£o).</td>
<td class="border border-gray-300 px-4 py-2"><strong>Parar</strong> ou iniciar uma rotina de busca.</td>
</tr>
<tr>
<td class="border border-gray-300 px-4 py-2"><strong>Preto</strong>, <strong>Preto</strong>, <strong>Preto</strong></td>
<td class="border border-gray-300 px-4 py-2">O rob√¥ encontrou uma intersec√ß√£o ou a linha de chegada.</td>
<td class="border border-gray-300 px-4 py-2"><strong>Parar</strong> ou tomar uma decis√£o mais complexa.</td>
</tr>
</tbody>
</table></div>
<p class="mb-4 text-gray-700 leading-relaxed">Este √© um exemplo de uma <strong>m√°quina de estados finitos</strong>, onde o rob√¥ est√° sempre em um de v√°rios estados poss√≠veis e transita entre eles com base nas leituras dos sensores.</p>

<p class="mb-4 text-gray-700 leading-relaxed">---</p>

<h4 class="text-xl font-bold mb-3 mt-5 text-gray-800">Controle PID: O Segredo da Precis√£o</h4>

<p class="mb-4 text-gray-700 leading-relaxed">A l√≥gica "SE-ENT√ÉO" funciona, mas muitas vezes resulta em um movimento oscilante, onde o rob√¥ ziguezagueia sobre a linha. Para um movimento suave e preciso, usamos um <strong>Controlador Proporcional-Integral-Derivativo (PID)</strong>.</p>

<p class="mb-4 text-gray-700 leading-relaxed">O PID √© um algoritmo de controle de malha fechada amplamente utilizado na ind√∫stria e na rob√≥tica. Seu objetivo √© minimizar o <strong>erro</strong> entre o estado atual de um sistema e o estado desejado (o <em>setpoint</em>).</p>

<p class="mb-4 text-gray-700 leading-relaxed">No nosso rob√¥ seguidor de linha, o <strong>erro</strong> pode ser definido como a dist√¢ncia do sensor central at√© o centro da linha. O PID calcula uma <strong>sa√≠da de corre√ß√£o</strong> para os motores com base em tr√™s termos:</p>

<img src="imagens/diagrama_fluxo_programa.png" alt="Fluxograma de Programa" class="w-full max-w-2xl mx-auto rounded-lg shadow-md my-6">
<em>Figura 2: Um fluxograma de programa de rob√¥. O controle PID se encaixa no passo de "Processar Dados" e "Tomar Decis√£o".</em>

<h5 class="text-lg font-bold mb-2 mt-4 text-gray-700">1. Termo Proporcional (P)</h5>

<p class="mb-4 text-gray-700 leading-relaxed">O termo <strong>Proporcional</strong> √© a parte mais intuitiva. A corre√ß√£o √© <strong>proporcional ao erro atual</strong>. </p>

<ul class="list-disc list-inside space-y-2 mb-4 ml-4">
<li class="mb-2">Se o rob√¥ est√° muito longe da linha (erro grande), a corre√ß√£o √© forte (vira bruscamente).</li>
<li class="mb-2">Se o rob√¥ est√° perto da linha (erro pequeno), a corre√ß√£o √© suave.</li>
</ul>

<strong>Corre√ß√£o_P = Kp * erro</strong>

<p class="mb-4 text-gray-700 leading-relaxed">O <code class="bg-gray-100 px-2 py-1 rounded text-sm">Kp</code> √© uma constante de ganho que ajustamos. Um <code class="bg-gray-100 px-2 py-1 rounded text-sm">Kp</code> muito alto causa oscila√ß√µes; um <code class="bg-gray-100 px-2 py-1 rounded text-sm">Kp</code> muito baixo torna o rob√¥ lento para reagir.</p>

<h5 class="text-lg font-bold mb-2 mt-4 text-gray-700">2. Termo Integral (I)</h5>

<p class="mb-4 text-gray-700 leading-relaxed">O termo <strong>Integral</strong> lida com o <strong>erro acumulado ao longo do tempo</strong>. Ele serve para corrigir pequenos erros persistentes que o termo P sozinho n√£o consegue eliminar (erro de estado estacion√°rio).</p>

<ul class="list-disc list-inside space-y-2 mb-4 ml-4">
<li class="mb-2">Se o rob√¥ fica consistentemente um pouco √† direita da linha, o erro se acumula, e o termo I aumenta gradualmente a corre√ß√£o para a esquerda at√© que o erro seja zerado.</li>
</ul>

<strong>Corre√ß√£o_I = Ki * (soma_dos_erros)</strong>

<p class="mb-4 text-gray-700 leading-relaxed">O <code class="bg-gray-100 px-2 py-1 rounded text-sm">Ki</code> √© a constante integral. Um <code class="bg-gray-100 px-2 py-1 rounded text-sm">Ki</code> muito alto pode levar a uma corre√ß√£o exagerada e instabilidade.</p>

<h5 class="text-lg font-bold mb-2 mt-4 text-gray-700">3. Termo Derivativo (D)</h5>

<p class="mb-4 text-gray-700 leading-relaxed">O termo <strong>Derivativo</strong> olha para a <strong>taxa de varia√ß√£o do erro</strong> (a "velocidade" com que o erro est√° mudando). Ele tem um efeito de amortecimento, prevendo o erro futuro e agindo para evitar que a corre√ß√£o seja excessiva (<em>overshoot</em>).</p>

<ul class="list-disc list-inside space-y-2 mb-4 ml-4">
<li class="mb-2">Se o rob√¥ est√° se aproximando da linha muito r√°pido, o termo D reduz a for√ßa da corre√ß√£o para que ele n√£o passe direto pelo centro.</li>
</ul>

<strong>Corre√ß√£o_D = Kd * (erro_atual - erro_anterior)</strong>

<p class="mb-4 text-gray-700 leading-relaxed">O <code class="bg-gray-100 px-2 py-1 rounded text-sm">Kd</code> √© a constante derivativa. Ele ajuda a estabilizar o sistema e reduzir as oscila√ß√µes.</p>

<h5 class="text-lg font-bold mb-2 mt-4 text-gray-700">A Equa√ß√£o Final do PID</h5>

<p class="mb-4 text-gray-700 leading-relaxed">A corre√ß√£o total aplicada aos motores √© a soma dos tr√™s termos:</p>

<strong>Corre√ß√£o_Final = (Kp <em> erro) + (Ki </em> soma_dos_erros) + (Kd * (erro_atual - erro_anterior))</strong>

<p class="mb-4 text-gray-700 leading-relaxed">Esta <code class="bg-gray-100 px-2 py-1 rounded text-sm">Corre√ß√£o_Final</code> √© ent√£o usada para ajustar a velocidade dos motores esquerdo e direito, fazendo o rob√¥ seguir a linha de forma suave e eficiente.</p>

<p class="mb-4 text-gray-700 leading-relaxed">---</p>

<h4 class="text-xl font-bold mb-3 mt-5 text-gray-800">Projeto Pr√°tico: Simula√ß√£o de Controle PID</h4>

<p class="mb-4 text-gray-700 leading-relaxed">Implementar um PID completo em hardware requer um ajuste cuidadoso (chamado de <em>tuning</em>) das constantes Kp, Ki e Kd. Antes de colocar no rob√¥, vamos fazer um programa simples que simula a l√≥gica do PID no Monitor Serial.</p>

<strong>Materiais:</strong>
<ul class="list-disc list-inside space-y-2 mb-4 ml-4">
<li class="mb-2">Apenas um ESP32 DevKit.</li>
</ul>

<strong>C√≥digo do Projeto:</strong>

<p class="mb-4 text-gray-700 leading-relaxed">Este c√≥digo simula um sistema (como nosso rob√¥) que tenta alcan√ßar um <code class="bg-gray-100 px-2 py-1 rounded text-sm">setpoint</code> (ponto desejado) de <code class="bg-gray-100 px-2 py-1 rounded text-sm">100</code>.</p>

<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="language-cpp">// Vari√°veis do sistema simulado
double setpoint = 100.0; // O valor que queremos alcan√ßar
double valorAtual = 0.0;   // O valor atual do sistema
double saidaMotor = 0.0;  // A "for√ßa" aplicada ao sistema

// Constantes do PID (Tuning)
double Kp = 0.5;
double Ki = 0.2;
double Kd = 0.1;

// Vari√°veis do PID
double erro;
double erroAnterior = 0;
double integral = 0;
double derivativo;

unsigned long tempoAnterior;

void setup() {
  Serial.begin(115200);
  tempoAnterior = millis();
}

void loop() {
  unsigned long tempoAtual = millis();
  double dt = (double)(tempoAtual - tempoAnterior) / 1000.0; // Delta T em segundos
  tempoAnterior = tempoAtual;

  // ===== L√≥gica do PID =====
  erro = setpoint - valorAtual;
  integral += erro * dt;
  derivativo = (erro - erroAnterior) / dt;
  erroAnterior = erro;

  // Calcula a sa√≠da do PID
  double saidaPID = (Kp <em> erro) + (Ki </em> integral) + (Kd * derivativo);

  // ===== Simula√ß√£o do Sistema =====
  // A sa√≠da do PID afeta o valor atual do sistema (simulando o motor empurrando o rob√¥)
  valorAtual += saidaPID * dt;

  // Imprime os resultados
  Serial.print("Setpoint: "); Serial.print(setpoint);
  Serial.print(" | Valor Atual: "); Serial.print(valorAtual);
  Serial.print(" | Erro: "); Serial.print(erro);
  Serial.print(" | Sa√≠da PID: "); Serial.println(saidaPID);

  // Para a simula√ß√£o quando chegar perto do setpoint
  if (abs(erro) &lt; 0.1) {
    Serial.println("\nSetpoint alcan√ßado! Fim da simula√ß√£o.");
    while(true) delay(1000);
  }

  delay(100);
}
</code></pre>

<strong>Resultado Esperado:</strong>

<p class="mb-4 text-gray-700 leading-relaxed">Abra o Monitor Serial. Voc√™ ver√° o <code class="bg-gray-100 px-2 py-1 rounded text-sm">Valor Atual</code> come√ßar em 0 e gradualmente se aproximar do <code class="bg-gray-100 px-2 py-1 rounded text-sm">Setpoint</code> de 100. Observe como a <code class="bg-gray-100 px-2 py-1 rounded text-sm">Sa√≠da PID</code> √© alta no in√≠cio (quando o erro √© grande) e diminui √† medida que o <code class="bg-gray-100 px-2 py-1 rounded text-sm">Valor Atual</code> se aproxima do <code class="bg-gray-100 px-2 py-1 rounded text-sm">Setpoint</code>.</p>

<p class="mb-4 text-gray-700 leading-relaxed">Experimente mudar os valores de <code class="bg-gray-100 px-2 py-1 rounded text-sm">Kp</code>, <code class="bg-gray-100 px-2 py-1 rounded text-sm">Ki</code> e <code class="bg-gray-100 px-2 py-1 rounded text-sm">Kd</code>:</p>
<ul class="list-disc list-inside space-y-2 mb-4 ml-4">
<li class="mb-2">Aumente <code class="bg-gray-100 px-2 py-1 rounded text-sm">Kp</code>: o sistema responder√° mais r√°pido, mas pode passar do setpoint e oscilar.</li>
<li class="mb-2">Aumente <code class="bg-gray-100 px-2 py-1 rounded text-sm">Ki</code>: o sistema eliminar√° erros pequenos mais r√°pido, mas pode se tornar inst√°vel.</li>
<li class="mb-2">Aumente <code class="bg-gray-100 px-2 py-1 rounded text-sm">Kd</code>: o sistema ficar√° mais est√°vel e com menos oscila√ß√µes.</li>
</ul>

<p class="mb-4 text-gray-700 leading-relaxed">Entender essa din√¢mica √© a chave para aplicar o PID em projetos reais. No projeto final deste n√≠vel, usaremos essa l√≥gica para criar um rob√¥ aut√¥nomo que navega com precis√£o.</p>

                    </div>
                    </div>
                </div>

                <!-- M√≥dulo 5 -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                    <div class="bg-autonomo text-white p-4 flex items-center justify-between cursor-pointer" onclick="toggleModule(5)">
                        <div class="flex items-center">
                            <span class="text-2xl mr-3">5Ô∏è‚É£</span>
                            <div>
                                <h3 class="text-xl font-bold">Controle PID</h3>
                                <p class="text-sm text-orange-100">8 horas ‚Ä¢ 3 aulas</p>
                            </div>
                        </div>
                        <svg class="w-6 h-6 transform transition-transform" id="arrow-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                    <div class="p-6 hidden" id="module-5">
<div class="prose max-w-none">
<p class="mb-4 text-gray-700 leading-relaxed">_# M√≥dulo 2.5: Alimenta√ß√£o e Gest√£o de Energia</p>

<h4 class="text-xl font-bold mb-3 mt-5 text-gray-800">A For√ßa Vital do Rob√¥</h4>

<p class="mb-4 text-gray-700 leading-relaxed">Um rob√¥ aut√¥nomo s√≥ √© verdadeiramente aut√¥nomo se puder carregar sua pr√≥pria fonte de energia. No N√≠vel 1, usamos um power bank, que √© uma solu√ß√£o simples e eficaz. No entanto, para rob√¥s mais compactos e integrados, precisamos de um sistema de alimenta√ß√£o dedicado. Este m√≥dulo aborda os fundamentos da gest√£o de energia para rob√¥s m√≥veis.</p>

<h4 class="text-xl font-bold mb-3 mt-5 text-gray-800">Tipos de Baterias</h4>

<p class="mb-4 text-gray-700 leading-relaxed">A escolha da bateria √© uma das decis√µes mais cr√≠ticas no design de um rob√¥. Ela afeta o peso, a autonomia e a seguran√ßa do projeto.</p>

<div class="overflow-x-auto mb-6"><table class="w-full border-collapse border border-gray-300">
<thead class="bg-gray-100"><tr>
<th class="border border-gray-300 px-4 py-2 text-left font-semibold">Tipo de Bateria</th>
<th class="border border-gray-300 px-4 py-2 text-left font-semibold">Vantagens</th>
<th class="border border-gray-300 px-4 py-2 text-left font-semibold">Desvantagens</th>
</tr></thead>
<tbody>
<tr>
<td class="border border-gray-300 px-4 py-2"><strong>Alcalinas (AA, AAA)</strong></td>
<td class="border border-gray-300 px-4 py-2">Baratas, f√°ceis de encontrar.</td>
<td class="border border-gray-300 px-4 py-2">N√£o recarreg√°veis, baixa capacidade de corrente.</td>
</tr>
<tr>
<td class="border border-gray-300 px-4 py-2"><strong>NiMH (N√≠quel-Hidreto Met√°lico)</strong></td>
<td class="border border-gray-300 px-4 py-2">Recarreg√°veis, mais seguras que Li-Ion.</td>
<td class="border border-gray-300 px-4 py-2">Menor densidade de energia, efeito mem√≥ria (em modelos antigos).</td>
</tr>
<tr>
<td class="border border-gray-300 px-4 py-2"><strong>Li-Ion (√çon de L√≠tio) / Li-Po (Pol√≠mero de L√≠tio)</strong></td>
<td class="border border-gray-300 px-4 py-2"><strong>Alta densidade de energia</strong> (muita capacidade em pouco peso), alta capacidade de corrente.</td>
<td class="border border-gray-300 px-4 py-2"><strong>Requerem circuitos de prote√ß√£o</strong> (contra sobrecarga, descarga excessiva e curto-circuito), mais caras, sens√≠veis a danos f√≠sicos.</td>
</tr>
</tbody>
</table></div>
<p class="mb-4 text-gray-700 leading-relaxed">Para rob√≥tica, as baterias de <strong>Li-Ion</strong> (como as c√©lulas 18650) e <strong>Li-Po</strong> s√£o as mais populares devido √† sua excelente rela√ß√£o energia/peso. No entanto, elas exigem um cuidado extremo no manuseio e carregamento.</p>

<strong>AVISO DE SEGURAN√áA:</strong> Nunca use baterias de L√≠tio sem um <strong>BMS (Battery Management System)</strong> ou um circuito de prote√ß√£o adequado. Uma sobrecarga ou um curto-circuito pode causar inc√™ndios ou explos√µes.

<h4 class="text-xl font-bold mb-3 mt-5 text-gray-800">Reguladores de Tens√£o</h4>

<p class="mb-4 text-gray-700 leading-relaxed">Os componentes de um rob√¥ geralmente operam em tens√µes diferentes. Por exemplo:</p>

<ul class="list-disc list-inside space-y-2 mb-4 ml-4">
<li class="mb-2"><strong>Motores</strong>: Podem precisar de 6V, 7.4V ou at√© 12V.</li>
<li class="mb-2"><strong>ESP32</strong>: Opera com 3.3V, mas pode ser alimentado com 5V em seu pino VIN.</li>
<li class="mb-2"><strong>Sensores</strong>: Alguns operam em 5V, outros em 3.3V.</li>
</ul>

<p class="mb-4 text-gray-700 leading-relaxed">Uma bateria de Li-Ion fornece uma tens√£o que varia (ex: de 4.2V quando cheia a 3.0V quando vazia). Para fornecer as tens√µes est√°veis que nossos componentes precisam, usamos <strong>reguladores de tens√£o</strong>.</p>

<h5 class="text-lg font-bold mb-2 mt-4 text-gray-700">Reguladores Step-Down (Buck Converter)</h5>

<p class="mb-4 text-gray-700 leading-relaxed">Um conversor <em>step-down</em> <strong>reduz</strong> a tens√£o. Por exemplo, ele pode pegar os 7.4V de duas c√©lulas de Li-Ion em s√©rie e convert√™-los em 5V est√°veis para alimentar o ESP32 e os servos.</p>

<h5 class="text-lg font-bold mb-2 mt-4 text-gray-700">Reguladores Step-Up (Boost Converter)</h5>

<p class="mb-4 text-gray-700 leading-relaxed">Um conversor <em>step-up</em> <strong>aumenta</strong> a tens√£o. Por exemplo, ele pode pegar os 3.7V de uma √∫nica c√©lula de Li-Ion e elev√°-los para 5V.</p>

<p class="mb-4 text-gray-700 leading-relaxed">O uso de conversores DC-DC (como os Buck e Boost) √© muito mais eficiente do que usar reguladores lineares (como o LM7805), pois eles desperdi√ßam muito menos energia na forma de calor, o que √© crucial para maximizar a autonomia da bateria.</p>

<h4 class="text-xl font-bold mb-3 mt-5 text-gray-800">Projeto Pr√°tico: Sistema de Alimenta√ß√£o com Bateria 18650</h4>

<p class="mb-4 text-gray-700 leading-relaxed">Vamos projetar um sistema de alimenta√ß√£o b√°sico para nosso rob√¥ usando uma c√©lula de Li-Ion 18650 e um m√≥dulo que j√° inclui o carregador e o conversor step-up.</p>

<strong>Materiais Necess√°rios:</strong>
<ul class="list-disc list-inside space-y-2 mb-4 ml-4">
<li class="mb-2">1x C√©lula de Li-Ion 18650</li>
<li class="mb-2">1x Suporte para bateria 18650</li>
<li class="mb-2">1x M√≥dulo Carregador TP4056 com Prote√ß√£o e Step-Up</li>
</ul>
<p class="mb-4 text-gray-700 leading-relaxed">    - <em>Este tipo de m√≥dulo √© muito popular. Ele possui uma entrada micro-USB para carregar a bateria, um circuito de prote√ß√£o e uma sa√≠da de 5V estabilizada.</em></p>
<ul class="list-disc list-inside space-y-2 mb-4 ml-4">
<li class="mb-2">Fios e conectores</li>
</ul>

<strong>Montagem do Circuito:</strong>

<ol class="list-decimal list-inside space-y-2 mb-4 ml-4">
<li class="mb-2"><strong>Encaixe a Bateria</strong>: Coloque a c√©lula 18650 no suporte, observando a polaridade correta.</li>
<li class="mb-2"><strong>Conecte a Bateria ao M√≥dulo</strong>: Solde os fios do suporte de bateria aos pads <code class="bg-gray-100 px-2 py-1 rounded text-sm">B+</code> e <code class="bg-gray-100 px-2 py-1 rounded text-sm">B-</code> do m√≥dulo TP4056.</li>
<li class="mb-2"><strong>Sa√≠da de 5V</strong>: O m√≥dulo ter√° sa√≠das marcadas como <code class="bg-gray-100 px-2 py-1 rounded text-sm">OUT+</code> e <code class="bg-gray-100 px-2 py-1 rounded text-sm">OUT-</code>. Esta ser√° a sua fonte de 5V estabilizada para alimentar o rob√¥ (ESP32 e motores).</li>
<li class="mb-2"><strong>Carregamento</strong>: Para carregar a bateria, basta conectar um cabo micro-USB √† porta do m√≥dulo. Um LED no m√≥dulo indicar√° o status do carregamento (geralmente vermelho para carregando, azul/verde para completo).</li>
</ol>

<strong>Diagrama do Sistema:</strong>

<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="language-mermaid">graph TD
    subgraph "Fonte de Energia"
        Bateria[C√©lula Li-Ion 18650]
        Modulo[M√≥dulo TP4056 com Step-Up]
    end

    subgraph "Carga do Rob√¥"
        ESP32[ESP32]
        Motores[Motores / Servos]
        Sensores[Sensores]
    end

    Bateria -- 3.7V --&gt; Modulo
    Modulo -- 5V Estabilizado --&gt; ESP32
    Modulo -- 5V Estabilizado --&gt; Motores
    ESP32 -- 3.3V --&gt; Sensores

    style Bateria fill:#f39c12,stroke:#d68910,color:#fff
    style Modulo fill:#3498db,stroke:#2980b9,color:#fff
</code></pre>

<strong>Resultado:</strong>

<p class="mb-4 text-gray-700 leading-relaxed">Voc√™ agora tem um sistema de alimenta√ß√£o compacto e recarreg√°vel. A sa√≠da de 5V do m√≥dulo pode ser conectada diretamente √† protoboard do seu rob√¥, substituindo o power bank. Isso torna o rob√¥ totalmente independente e muito mais profissional.</p>

<p class="mb-4 text-gray-700 leading-relaxed">No pr√≥ximo m√≥dulo, vamos juntar todos os conceitos do N√≠vel 2 para construir um rob√¥ aut√¥nomo completo, capaz de navegar em um ambiente usando sensores avan√ßados e algoritmos de controle.</p>

                    </div>
                    </div>
                </div>

                <!-- M√≥dulo 6 -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                    <div class="bg-autonomo text-white p-4 flex items-center justify-between cursor-pointer" onclick="toggleModule(6)">
                        <div class="flex items-center">
                            <span class="text-2xl mr-3">6Ô∏è‚É£</span>
                            <div>
                                <h3 class="text-xl font-bold">Armazenamento e Logging</h3>
                                <p class="text-sm text-orange-100">6 horas ‚Ä¢ 3 aulas</p>
                            </div>
                        </div>
                        <svg class="w-6 h-6 transform transition-transform" id="arrow-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                    <div class="p-6 hidden" id="module-6">
<div class="prose max-w-none">
<h3 class="text-2xl font-bold mb-4 mt-6 text-gray-900">M√≥dulo 2.6: Projeto Final N√≠vel 2 - Rob√¥ Aut√¥nomo Multi-Sensor</h3>

<h4 class="text-xl font-bold mb-3 mt-5 text-gray-800">O Desafio da Autonomia</h4>

<p class="mb-4 text-gray-700 leading-relaxed">Bem-vindo ao projeto final do N√≠vel Intermedi√°rio! √â hora de combinar o poder do ESP32, a precis√£o dos sensores avan√ßados, a intelig√™ncia dos algoritmos de controle e um sistema de energia dedicado para construir um <strong>rob√¥ aut√¥nomo multi-sensor</strong>.</p>

<p class="mb-4 text-gray-700 leading-relaxed">Nosso objetivo √© construir um rob√¥ que possa navegar em um ambiente simples, realizando duas tarefas principais:</p>

<ol class="list-decimal list-inside space-y-2 mb-4 ml-4">
<li class="mb-2"><strong>Seguir uma linha preta</strong> no ch√£o.</li>
<li class="mb-2"><strong>Parar automaticamente</strong> se um obst√°culo aparecer em seu caminho.</li>
</ol>

<p class="mb-4 text-gray-700 leading-relaxed">Este projeto representa um salto significativo em complexidade e capacidade em rela√ß√£o ao rob√¥ do N√≠vel 1, transformando-o de um ve√≠culo teleoperado para um agente aut√¥nomo.</p>

<img src="imagens/ilustracao_robo_autonomo.png" alt="Rob√¥ Aut√¥nomo" class="w-full max-w-2xl mx-auto rounded-lg shadow-md my-6">
<em>Figura 1: Nosso objetivo √© um rob√¥ que integra m√∫ltiplos sensores para navegar de forma inteligente.</em>

<p class="mb-4 text-gray-700 leading-relaxed">---</p>

<h4 class="text-xl font-bold mb-3 mt-5 text-gray-800">1. Upgrade do Hardware</h4>

<p class="mb-4 text-gray-700 leading-relaxed">Vamos partir do nosso Rover de Papel e adicionar os novos componentes.</p>

<strong>Materiais Adicionais:</strong>
<ul class="list-disc list-inside space-y-2 mb-4 ml-4">
<li class="mb-2">1x M√≥dulo com 3 ou mais sensores de linha (TCRT5000)</li>
<li class="mb-2">1x Sensor Ultrass√¥nico HC-SR04 (com divisor de tens√£o)</li>
<li class="mb-2">1x Sistema de alimenta√ß√£o com bateria (como o projetado no M√≥dulo 2.5)</li>
<li class="mb-2">Um chassi mais robusto (acr√≠lico ou MDF √© uma boa op√ß√£o, mas o de papel√£o ainda funciona para prototipagem)</li>
</ul>

<strong>Montagem:</strong>

<ol class="list-decimal list-inside space-y-2 mb-4 ml-4">
<li class="mb-2"><strong>Chassi</strong>: Monte o novo chassi, garantindo espa√ßo para todos os componentes.</li>
<li class="mb-2"><strong>Motores e Rodas</strong>: Fixe os servos de rota√ß√£o cont√≠nua e as rodas, como no projeto anterior.</li>
<li class="mb-2"><strong>Sistema de Alimenta√ß√£o</strong>: Instale a bateria e o m√≥dulo de gerenciamento de energia, garantindo que a sa√≠da de 5V esteja acess√≠vel.</li>
<li class="mb-2"><strong>Montagem dos Sensores</strong>:</li>
</ol>
<p class="mb-4 text-gray-700 leading-relaxed">    -   <strong>Sensores de Linha</strong>: Monte o m√≥dulo de sensores de linha na frente do rob√¥, o mais pr√≥ximo poss√≠vel do ch√£o (cerca de 3-5 mm de altura √© o ideal).</p>
<p class="mb-4 text-gray-700 leading-relaxed">    -   <strong>Sensor Ultrass√¥nico</strong>: Monte o HC-SR04 na frente do rob√¥, apontado para frente, a uma altura que possa detectar obst√°culos comuns.</p>
<ol class="list-decimal list-inside space-y-2 mb-4 ml-4">
<li class="mb-2"><strong>Eletr√¥nica</strong>: Posicione o ESP32 e a protoboard no chassi e fa√ßa todas as conex√µes.</li>
</ol>

<strong>Esquema de Conex√µes Sugerido:</strong>

<ul class="list-disc list-inside space-y-2 mb-4 ml-4">
<li class="mb-2"><strong>Motores</strong>: Esquerdo no <strong>GPIO 18</strong>, Direito no <strong>GPIO 19</strong>.</li>
<li class="mb-2"><strong>Sensor Ultrass√¥nico</strong>: <code class="bg-gray-100 px-2 py-1 rounded text-sm">Trig</code> no <strong>GPIO 12</strong>, <code class="bg-gray-100 px-2 py-1 rounded text-sm">Echo</code> no <strong>GPIO 13</strong> (com divisor de tens√£o).</li>
<li class="mb-2"><strong>Sensores de Linha</strong> (exemplo para 3 sensores):</li>
</ul>
<p class="mb-4 text-gray-700 leading-relaxed">    -   Sensor Esquerdo: <strong>GPIO 32</strong></p>
<p class="mb-4 text-gray-700 leading-relaxed">    -   Sensor Central: <strong>GPIO 33</strong></p>
<p class="mb-4 text-gray-700 leading-relaxed">    -   Sensor Direito: <strong>GPIO 34</strong></p>

<p class="mb-4 text-gray-700 leading-relaxed">---</p>

<h4 class="text-xl font-bold mb-3 mt-5 text-gray-800">2. A L√≥gica do Programa: Uma M√°quina de Estados</h4>

<p class="mb-4 text-gray-700 leading-relaxed">Nosso programa ser√° estruturado como uma <strong>m√°quina de estados</strong>. O rob√¥ estar√° sempre em um de dois estados principais: <code class="bg-gray-100 px-2 py-1 rounded text-sm">SEGUINDO_LINHA</code> ou <code class="bg-gray-100 px-2 py-1 rounded text-sm">EVITANDO_OBSTACULO</code>.</p>

<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="language-mermaid">stateDiagram-v2
    [*] --&gt; SEGUINDO_LINHA
    SEGUINDO_LINHA --&gt; EVITANDO_OBSTACULO: Obst√°culo detectado
    EVITANDO_OBSTACULO --&gt; SEGUINDO_LINHA: Obst√°culo removido
    EVITANDO_OBSTACULO: Parar e esperar
</code></pre>

<ul class="list-disc list-inside space-y-2 mb-4 ml-4">
<li class="mb-2">O estado padr√£o √© <code class="bg-gray-100 px-2 py-1 rounded text-sm">SEGUINDO_LINHA</code>.</li>
<li class="mb-2">A cada ciclo do <code class="bg-gray-100 px-2 py-1 rounded text-sm">loop()</code>, o rob√¥ primeiro verifica a dist√¢ncia com o sensor ultrass√¥nico.</li>
<li class="mb-2">Se a dist√¢ncia for menor que um limiar (ex: 15 cm), ele transita para o estado <code class="bg-gray-100 px-2 py-1 rounded text-sm">EVITANDO_OBSTACULO</code>, onde a a√ß√£o principal √© <strong>parar</strong>.</li>
<li class="mb-2">Se n√£o houver obst√°culo, ele executa a l√≥gica do estado <code class="bg-gray-100 px-2 py-1 rounded text-sm">SEGUINDO_LINHA</code>, usando os sensores de linha para ajustar a dire√ß√£o.</li>
</ul>

<p class="mb-4 text-gray-700 leading-relaxed">---</p>

<h4 class="text-xl font-bold mb-3 mt-5 text-gray-800">3. C√≥digo do Projeto</h4>

<p class="mb-4 text-gray-700 leading-relaxed">Este c√≥digo integra a leitura de todos os sensores e implementa a m√°quina de estados descrita.</p>

<pre class="bg-gray-900 text-gray-100 p-4 rounded-lg overflow-x-auto mb-4"><code class="language-cpp">#include &lt;ESP32Servo.h&gt;

// --- Configura√ß√£o dos Pinos <hr class="my-6 border-gray-300">
const int pinoServoEsquerdo = 18;
const int pinoServoDireito = 19;

const int pinoTrig = 12;
const int pinoEcho = 13;

const int pinoSensorLinhaEsq = 32;
const int pinoSensorLinhaCen = 33;
const int pinoSensorLinhaDir = 34;

// --- Servos e Movimento <hr class="my-6 border-gray-300">
Servo servoEsquerdo;
Servo servoDireito;
int velocidadeBase = 150; // Velocidade de cruzeiro

// --- Sensores e L√≥gica <hr class="my-6 border-gray-300">
#define DISTANCIA_OBSTACULO 15 // cm

enum EstadoRobo { SEGUINDO_LINHA, EVITANDO_OBSTACULO };
EstadoRobo estadoAtual = SEGUINDO_LINHA;

void setup() {
  Serial.begin(115200);

  // Inicializa os motores
  servoEsquerdo.attach(pinoServoEsquerdo);
  servoDireito.attach(pinoServoDireito);

  // Inicializa os pinos dos sensores
  pinMode(pinoTrig, OUTPUT);
  pinMode(pinoEcho, INPUT);
  pinMode(pinoSensorLinhaEsq, INPUT);
  pinMode(pinoSensorLinhaCen, INPUT);
  pinMode(pinoSensorLinhaDir, INPUT);
}

// --- Fun√ß√µes de Movimento <hr class="my-6 border-gray-300">
void parar() { servoEsquerdo.writeMicroseconds(1500); servoDireito.writeMicroseconds(1500); }
void frente() { servoEsquerdo.writeMicroseconds(1500 + velocidadeBase); servoDireito.writeMicroseconds(1500 - velocidadeBase); }
void esquerda() { servoEsquerdo.writeMicroseconds(1500 - velocidadeBase); servoDireito.writeMicroseconds(1500 - velocidadeBase); }
void direita() { servoEsquerdo.writeMicroseconds(1500 + velocidadeBase); servoDireito.writeMicroseconds(1500 + velocidadeBase); }

// --- Fun√ß√µes de Leitura de Sensores <hr class="my-6 border-gray-300">
int lerDistancia() {
  digitalWrite(pinoTrig, LOW);
  delayMicroseconds(2);
  digitalWrite(pinoTrig, HIGH);
  delayMicroseconds(10);
  digitalWrite(pinoTrig, LOW);
  long duracao = pulseIn(pinoEcho, HIGH);
  return duracao * 0.0343 / 2;
}

void loop() {
  // 1. Verifica√ß√£o de Obst√°culos (maior prioridade)
  int distancia = lerDistancia();
  if (distancia &lt; DISTANCIA_OBSTACulo && distancia &gt; 0) {
    estadoAtual = EVITANDO_OBSTACULO;
  } else {
    estadoAtual = SEGUINDO_LINHA;
  }

  // 2. Executa a l√≥gica baseada no estado atual
  switch (estadoAtual) {
    case SEGUINDO_LINHA:
      // L√™ os sensores de linha (LOW = viu linha preta)
      bool esq = digitalRead(pinoSensorLinhaEsq) == LOW;
      bool cen = digitalRead(pinoSensorLinhaCen) == LOW;
      bool dir = digitalRead(pinoSensorLinhaDir) == LOW;

      if (cen) {
        frente(); // Em cima da linha, vai para frente
      } else if (esq) {
        esquerda(); // Desviou para a direita, corrige para a esquerda
      } else if (dir) {
        direita(); // Desviou para a esquerda, corrige para a direita
      } else {
        // Perdeu a linha, para (ou pode girar para procurar)
        parar();
      }
      break;

    case EVITANDO_OBSTACULO:
      Serial.println("Obst√°culo detectado! Parando.");
      parar();
      break;
  }

  delay(20); // Pequeno delay para estabilidade
}
</code></pre>

<p class="mb-4 text-gray-700 leading-relaxed">---</p>

<h4 class="text-xl font-bold mb-3 mt-5 text-gray-800">4. Teste e Desafios</h4>

<ol class="list-decimal list-inside space-y-2 mb-4 ml-4">
<li class="mb-2"><strong>Crie uma Pista</strong>: Desenhe uma pista simples em uma cartolina branca grande usando fita isolante preta. Comece com retas e curvas suaves.</li>
<li class="mb-2"><strong>Calibre os Motores</strong>: Certifique-se de que os valores de <code class="bg-gray-100 px-2 py-1 rounded text-sm">1500</code> em <code class="bg-gray-100 px-2 py-1 rounded text-sm">parar()</code> realmente param seus motores. Ajuste se necess√°rio.</li>
<li class="mb-2"><strong>Teste os Sensores</strong>: Antes de colocar o rob√¥ na pista, verifique se os sensores de linha e o sensor ultrass√¥nico est√£o fornecendo leituras corretas via Monitor Serial.</li>
<li class="mb-2"><strong>Execute o Rob√¥</strong>: Coloque o rob√¥ na pista e ligue-o. Ele deve come√ßar a seguir a linha. Teste a fun√ß√£o de evitar obst√°culos colocando sua m√£o na frente dele.</li>
</ol>

<strong>Desafios para Evoluir:</strong>

<ul class="list-disc list-inside space-y-2 mb-4 ml-4">
<li class="mb-2"><strong>Controle PID</strong>: Substitua a l√≥gica simples de seguir linha por um controle PID (como discutido no M√≥dulo 2.4) para um movimento muito mais suave e r√°pido.</li>
<li class="mb-2"><strong>Intersec√ß√µes</strong>: Melhore o c√≥digo para que o rob√¥ possa lidar com intersec√ß√µes em "T" ou em cruz.</li>
<li class="mb-2"><strong>Interface de Status</strong>: Use o que aprendeu no M√≥dulo 2.2 para criar um web server que mostre o estado atual do rob√¥ (seguindo linha, parado, etc.) e as leituras dos sensores em tempo real.</li>
</ul>

<strong>Parab√©ns por concluir o N√≠vel 2!</strong> Voc√™ agora tem um rob√¥ aut√¥nomo e inteligente, e possui as habilidades necess√°rias para enfrentar os desafios do N√≠vel 3, onde exploraremos o excitante mundo da Intelig√™ncia Artificial, Vis√£o Computacional e Reconhecimento de Voz.

                    </div>
                    </div>
                </div>

                <!-- M√≥dulo 7 -->
                <div class="bg-white rounded-xl shadow-lg overflow-hidden">
                    <div class="bg-autonomo text-white p-4 flex items-center justify-between cursor-pointer" onclick="toggleModule(7)">
                        <div class="flex items-center">
                            <span class="text-2xl mr-3">7Ô∏è‚É£</span>
                            <div>
                                <h3 class="text-xl font-bold">Projeto Final: Rob√¥ Aut√¥nomo Completo</h3>
                                <p class="text-sm text-orange-100">8 horas ‚Ä¢ Projeto Integrado</p>
                            </div>
                        </div>
                        <svg class="w-6 h-6 transform transition-transform" id="arrow-7" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                        </svg>
                    </div>
                    <div class="p-6 hidden" id="module-7">
                        <div class="mb-6">
                            <h4 class="font-bold text-lg mb-3">Especifica√ß√µes do Projeto</h4>
                            <p class="text-gray-700 mb-4">
                                Construa um rob√¥ m√≥vel aut√¥nomo com as seguintes caracter√≠sticas:
                            </p>
                        </div>
                        <ul class="space-y-3">
                            <li class="flex items-start">
                                <span class="text-autonomo mr-2">üîß</span>
                                <div>
                                    <strong>Hardware</strong>
                                    <p class="text-sm text-gray-600">ESP32, motores com encoder, IMU, ultrassom, display OLED</p>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="text-autonomo mr-2">üîß</span>
                                <div>
                                    <strong>Modos de Opera√ß√£o</strong>
                                    <p class="text-sm text-gray-600">Manual (WiFi/BLE), seguidor de linha PID, desviador de obst√°culos</p>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="text-autonomo mr-2">üîß</span>
                                <div>
                                    <strong>Interface Web</strong>
                                    <p class="text-sm text-gray-600">Dashboard responsivo com telemetria em tempo real via WebSocket</p>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="text-autonomo mr-2">üîß</span>
                                <div>
                                    <strong>Telemetria e Cloud</strong>
                                    <p class="text-sm text-gray-600">Envio de dados para MQTT broker, hist√≥rico em SD card</p>
                                </div>
                            </li>
                            <li class="flex items-start">
                                <span class="text-autonomo mr-2">üîß</span>
                                <div>
                                    <strong>Controle Inteligente</strong>
                                    <p class="text-sm text-gray-600">PID para motores, fus√£o de sensores IMU, odometria com encoders</p>
                                </div>
                            </li>
                            <li class="flex items-start bg-orange-50 p-3 rounded">
                                <span class="text-autonomo mr-2">üèÜ</span>
                                <div>
                                    <strong>Desafio Final</strong>
                                    <p class="text-sm text-gray-600">Crie uma miss√£o aut√¥noma: navegar por labirinto, retornar ao ponto de partida e enviar mapa via WiFi!</p>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>

            </div>
        </div>
    </section>

    <!-- Skills Gained -->
    <section class="py-12 bg-white">
        <div class="container mx-auto px-6 max-w-5xl">
            <h2 class="text-3xl font-bold mb-8 text-center">Habilidades Adquiridas</h2>
            <div class="grid md:grid-cols-3 gap-6">
                <div class="text-center p-6 bg-orange-50 rounded-xl">
                    <div class="text-4xl mb-3">üì°</div>
                    <h3 class="font-bold text-lg mb-2">IoT Developer</h3>
                    <p class="text-sm text-gray-600">
                        Conecte dispositivos √† internet, crie dashboards e integre com servi√ßos cloud
                    </p>
                </div>
                <div class="text-center p-6 bg-orange-50 rounded-xl">
                    <div class="text-4xl mb-3">üéõÔ∏è</div>
                    <h3 class="font-bold text-lg mb-2">Control Systems</h3>
                    <p class="text-sm text-gray-600">
                        Implemente controle PID, sistemas realimentados e navega√ß√£o aut√¥noma
                    </p>
                </div>
                <div class="text-center p-6 bg-orange-50 rounded-xl">
                    <div class="text-4xl mb-3">‚ö°</div>
                    <h3 class="font-bold text-lg mb-2">Embedded Systems</h3>
                    <p class="text-sm text-gray-600">
                        Domine ESP32, FreeRTOS, multitasking e otimiza√ß√£o de recursos
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA -->
    <section class="py-16 bg-autonomo text-white">
        <div class="container mx-auto px-6 text-center">
            <h2 class="text-3xl font-bold mb-4">Pronto para criar rob√¥s conectados?</h2>
            <p class="text-xl mb-8 max-w-2xl mx-auto">
                Ao concluir o N√≠vel 2, voc√™ ter√° habilidades profissionais em IoT, controle e sistemas embarcados!
            </p>
            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="nivel1.html" class="bg-white text-autonomo px-8 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors inline-block">
                    ‚Üê Voltar para N√≠vel 1
                </a>
                <a href="nivel3.html" class="bg-expert text-white px-8 py-3 rounded-lg font-semibold hover:bg-red-600 transition-colors inline-block border-2 border-white">
                    Avan√ßar para N√≠vel 3 ‚Üí
                </a>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-6 text-center">
            <p class="mb-2">ü§ñ Rob√≥tica do Zero ao Expert</p>
            <p class="text-gray-400 text-sm">Projeto educacional open-source | 2024</p>
            <div class="mt-4">
                <a href="https://github.com/inematds/robot" target="_blank" class="text-gray-400 hover:text-white transition-colors">
                    GitHub
                </a>
            </div>
        </div>
    </footer>

    <script>
        function toggleModule(num) {
            const module = document.getElementById(`module-${num}`);
            const arrow = document.getElementById(`arrow-${num}`);

            if (module.classList.contains('hidden')) {
                module.classList.remove('hidden');
                arrow.classList.add('rotate-180');
            } else {
                module.classList.add('hidden');
                arrow.classList.remove('rotate-180');
            }
        }
    </script>
    <script src="js/main.js"></script>
</body>
</html>
